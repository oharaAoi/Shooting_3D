#include "MobRootState.h"
#include "GameObject/MobEnemy.h"

MobRootState::MobRootState(MobEnemy* baseEnemy)
	: BaseEnemyState("State_Root", baseEnemy) {
		Init();
}

MobRootState::~MobRootState() {}

//////////////////////////////////////////////////////////////////////////////////////////////////
// ↓　初期化処理
//////////////////////////////////////////////////////////////////////////////////////////////////

void MobRootState::Init() {
	work_.moveTime = 0;
	work_.attackTime = 180;

	floating_.parameter = 0;
	floating_.period = 90;
	floating_.amplitude = 0.1f;
}

//////////////////////////////////////////////////////////////////////////////////////////////////
// ↓　更新処理
//////////////////////////////////////////////////////////////////////////////////////////////////

void MobRootState::Update() {
	enemy_->Move();
	// フレームをカウントし、一定時間過ぎたら攻撃フェーズに移動する
	work_.moveTime++;
	if (work_.moveTime > work_.attackTime) {
		/*enemy_->SetBehaviorRequest(EnemyBehavior::kAttack);*/
		work_.moveTime = 0;
	}
}

///////////////////////////////////////////////////////////
// メンバ関数
///////////////////////////////////////////////////////////


